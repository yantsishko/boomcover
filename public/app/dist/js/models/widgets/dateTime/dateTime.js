define(["app","marionette","backbone","underscore","text!templates/widgets/dateTime/index.ejs","bootstrapcolorpicker"],function(e,t,n,o,i,a){"use strict";return t.ItemView.extend({template:o.template(i),ui:{subscriber1:"select[name=subscriber_form_1]"},events:{"change select[name=date_gmt]":"changeGmt","change select[name=date_format]":"changeDateFormat","change select[name=date_text_font]":"changeFont","change input[name=date_text_register]":"toggleRegister","change input[name=date_text_before]":"textBefore","change input[name=date_text_after]":"textAfter","change input[name=date_text_bold]":"fontBold","change input[name=date_text_italic]":"fontItalic","change input[name=date_text_tiny]":"fontTiny"},initialize:function(e){},onRender:function(){this.setSliders();var e=this;this.$el.find("#date_text_color").colorpicker().on("changeColor",function(){e.$el.find("#date_text_color_p_1").css("background",e.$el.find(this).colorpicker("getValue","#ffffff")),e.model.set("color",e.$el.find(this).colorpicker("getValue","#ffffff"))}),this.$el.find("#date_text_color").colorpicker().on("changeColor",function(){e.$el.find("#date_text_color_p_1").css("background",e.$el.find(this).colorpicker("getValue","#ffffff")),e.model.set("color",e.$el.find(this).colorpicker("getValue","#ffffff"))})},changeGmt:function(){var e=this.$el.find("[name=date_gmt]").val();this.model.set("gmt",e)},changeDateFormat:function(){var e=this.$el.find("[name=date_format]").val();this.model.set("format",e)},changeFont:function(){var e=this.$el.find("[name=date_text_font]").val();this.model.set("font",e)},textBefore:function(e){this.model.set("textBefore",e.target.value)},textAfter:function(e){this.model.set("textAfter",e.target.value)},fontBold:function(e){e.target.checked?this.model.set("fontWeight","700"):this.model.set("fontWeight","none")},fontItalic:function(e){e.target.checked?this.model.set("italic",!0):this.model.set("italic",!1)},fontTiny:function(e){e.target.checked?this.model.set("fontWeight","300"):this.model.set("fontWeight","none")},toggleRegister:function(e){e.target.checked?this.model.set("uppercase",!0):this.model.set("uppercase",!1)},setSliders:function(){var e=this;this.$el.find("#date_text_size").ionRangeSlider({type:"single",min:14,max:80,from:e.model.get("size"),step:1,postfix:" px",onChange:function(t){e.model.set("size",t.from)}})}})});