define(["app","marionette","backbone","underscore","text!templates/widgets/commentatorLikes/index.ejs","bootstrapcolorpicker","datetimepicker","moment"],function(e,t,n,o,i,m,a,l){"use strict";return t.ItemView.extend({template:o.template(i),ui:{subscriber1:"select[name=commentator_likes_form]",position:"select[name=commentator_likes_namePosition]"},events:{"change select[name=commentator_likes_form]":"changeForm","change select[name=commentator_likes_namePosition]":"changeNamePosition","change select[name=commentator_likes_name_font]":"changeNameFont","change select[name=commentator_likes_lname_font]":"changeLNameFont","change select[name=like_color]":"changeLikeСolor","change input[name=commentator_likes_name_show]":"toggleName","change input[name=commentator_likes_comment_show]":"toggleCommentShow","change input[name=commentator_likes_name_register]":"toggleNameRegister","change input[name=commentator_likes_lname_show]":"toggleLName","change input[name=commentator_likes_lname_register]":"toggleLNameRegister","change input[name=commentator_likes_name_bold]":"nameFontBold","change input[name=commentator_likes_lname_bold]":"lNameFontBold","change input[name=commentator_likes_name_italic]":"nameFontItalic","change input[name=commentator_likes_lname_italic]":"lNameFontItalic","change input[name=commentator_likes_name_tiny]":"nameFontTiny","change input[name=commentator_likes_lname_tiny]":"lNameFontTiny"},initialize:function(e){},onRender:function(){this.setSliders();var e=this;this.$el.find("#commentator_likes_name_color").colorpicker().on("changeColor",function(){e.$el.find("#subscribers_name_color_p").css("background",e.$el.find(this).colorpicker("getValue","#ffffff")),e.model.set("nameColor",e.$el.find(this).colorpicker("getValue","#ffffff"))}),this.$el.find("#commentator_likes_lname_color").colorpicker().on("changeColor",function(){e.$el.find("#commentator_likes_lname_color_p").css("background",e.$el.find(this).colorpicker("getValue","#ffffff")),e.model.set("lnameColor",e.$el.find(this).colorpicker("getValue","#ffffff"))}),this.$el.find("#commentator_likes_image_border_color").colorpicker().on("changeColor",function(){e.$el.find("#commentator_likes_image_border_color_p").css("background",e.$el.find(this).colorpicker("getValue","#ffffff")),e.model.set("borderColor",e.$el.find(this).colorpicker("getValue","#ffffff"))})},changeNamePosition:function(){this.model.set("namePosition",this.ui.position.val())},toggleCommentShow:function(e){e.target.checked?this.model.set("commentShow",!1):this.model.set("commentShow",!0)},changeForm:function(){this.model.set("imageFigure",this.ui.subscriber1.val())},"changeLikeСolor":function(){var e=this.$el.find("[name=like_color]").val();this.model.set("likeColor",e)},toggleName:function(e){e.target.checked?this.model.set("nameShow",!1):this.model.set("nameShow",!0)},toggleNameRegister:function(e){e.target.checked?this.model.set("nameUppercase",!0):this.model.set("nameUppercase",!1)},toggleLName:function(e){e.target.checked?this.model.set("lnameShow",!1):this.model.set("lnameShow",!0)},toggleLNameRegister:function(e){e.target.checked?this.model.set("lnameUppercase",!0):this.model.set("lnameUppercase",!1)},changeNameFont:function(e){var t=this.$el.find("[name=commentator_likes_name_font]").val();this.model.set("nameFont",t)},changeLNameFont:function(e){var t=this.$el.find("[name=commentator_likes_lname_font]").val();this.model.set("lnameFont",t)},nameFontBold:function(e){e.target.checked?(this.$el.find("[name=commentator_likes_name_tiny]").prop("checked",!1),this.$el.find("[name=commentator_likes_name_tiny]").parent().removeClass("active"),this.model.set("nameFontWeight","700")):this.model.set("nameFontWeight","none")},nameFontItalic:function(e){e.target.checked?this.model.set("nameItalic",!0):this.model.set("nameItalic",!1)},nameFontTiny:function(e){e.target.checked?(this.$el.find("[name=commentator_likes_name_bold_1]").prop("checked",!1),this.$el.find("[name=commentator_likes_name_bold_1]").parent().removeClass("active"),this.model.set("nameFontWeight","300")):this.model.set("nameFontWeight","none")},lNameFontBold:function(e){e.target.checked?(this.$el.find("[name=commentator_likes_lname_tiny_1]").prop("checked",!1),this.$el.find("[name=commentator_likes_lname_tiny_1]").parent().removeClass("active"),this.model.set("lnameFontWeight","700")):this.model.set("lnameFontWeight","none")},lNameFontItalic:function(e){e.target.checked?this.model.set("lnameItalic",!0):this.model.set("lnameItalic",!1)},lNameFontTiny:function(e){e.target.checked?(this.$el.find("[name=commentator_likes_lname_bold_1]").prop("checked",!1),this.$el.find("[name=commentator_likes_lname_bold_1]").parent().removeClass("active"),this.model.set("lnameFontWeight","300")):this.model.set("lnameFontWeight","none")},setSliders:function(){var e=this;this.$el.find("#datetimepicker").datetimepicker({format:"HH:mm"}),this.$el.find("#datetimepicker").on("dp.change",function(t){e.model.set("changeTime",l(t.date).format("HH:mm"))}),this.$el.find("#commentator_likes_min_likes").ionRangeSlider({type:"single",min:0,max:30,from:e.model.get("minLikes"),step:1,postfix:" <div class='fa fa-heart'></div>",onChange:function(t){e.model.set("minLikes",t.from)}}),this.$el.find("#commentator_likes_image_size").ionRangeSlider({type:"single",min:50,max:150,from:e.model.get("imageSize"),step:1,postfix:" px",onChange:function(t){e.model.set("imageSize",t.from)}}),this.$el.find("#commentator_likes_image_border").ionRangeSlider({type:"single",min:0,max:20,from:e.model.get("borderSize"),step:1,postfix:" px",onChange:function(t){e.model.set("borderSize",t.from)}}),this.$el.find("#commentator_likes_text_size_fname").ionRangeSlider({type:"single",min:14,max:80,from:e.model.get("nameSize"),step:1,postfix:" px",onChange:function(t){e.model.set("nameSize",t.from)}}),this.$el.find("#commentator_likes_text_size_lname").ionRangeSlider({type:"single",min:14,max:80,from:e.model.get("lnameSize"),step:1,postfix:" px",onChange:function(t){e.model.set("lnameSize",t.from)}}),this.$el.find("#commentator_likes_period").ionRangeSlider({type:"single",min:1,max:7,from:e.model.get("period"),step:1,postfix:" дней",onChange:function(t){e.model.set("period",t.from)}})}})});